<p style="color: green"><%= notice %></p>

<div class="container-fluid p-2">

  <h1 class="mb-4 text-secondary">
    <span class="fa fa-regular fa-envelope"></span>
    Messages
  </h1>

  <div class="container-fluid p-0 text-center">
    <div class="row gx-1">
      <div class="col">
      <div class="p-1 border bg-light">
          total
        <span class="badge bg-secondary"> 
          <%= @messages.count %>
        </span> 
      </div>
      </div>
      <div class="col">
        <div class="p-1 border bg-light">
          past
          <span class="badge bg-secondary"> 
            <%= @past_messages.count %>
          </span> 
        </div>
      </div>
      <div class="col">
        <div class="p-1 border bg-light">
          to come
          <span class="badge bg-secondary  <%= 'bg-danger' if @upcoming_messages.count > 0 %> "> 
            <%= @upcoming_messages.count %>
          </span> 
        </div>
      </div>
    </div>
  </div>

  <%= link_to new_message_path, 
        class: "btn btn-primary fw-bold w-100 my-3" do %>
    <i class="fa-regular fa-pen-to-square"></i>
    <span> Send new message </span> 
  <% end %>



  <hr>

  <h2>
    Past
    <span class="badge bg-secondary"> 
      <%= @past_messages.count %>
    </span> 
  </h2>

  <div id="messages">
    <% @past_messages.each do |message| %>
      <%= render message %>
    <% end %>
  </div>

  <hr>

  <h2>
    To come
    <span class="badge bg-secondary <%= 'bg-danger' if @upcoming_messages.count>0 %>">
      <%= @upcoming_messages.count %>
    </span> 
  </h2>

  <div id="messages">
    <% @upcoming_messages.each do |message| %>
      <%= render message %>
    <% end %>
  </div>

  <hr>

  <%= return_model_index_button("Retour vers accueil", root_path) %>

</div>